{% extends 'base.html' %}

{% block content %}

    <form method="POST" onsubmit="return submitForm();">
      {% csrf_token %}

    <details style="margin-top:25px;">

      <form onsubmit="return validateForm()">

      <summary style="margin-left:10px; font-weight:900; cursor: pointer;"
      >Обследование СПД
      <label for="float-input" style="margin-left:60px;">Трудозатраты, дней:</label>
      <input type="number" step="0.1" id="Обследование СПД" name="Обследование СПД" placeholder="кол-во дней" style="width: 120px;" required value="{{ examinations.0.days }}"/>
    </summary>
      <ul>
        <li class="item1">
          <details style="background-color: rgb(172, 165, 165);">
            <summary style="margin-left:40px; font-weight:normal; cursor: pointer;">
              <input type="checkbox" style="margin-right:5px;" class="list-item-checkbox" name="Сбор данных" value="Сбор данных" {% if 'Сбор данных' in names %} checked {% endif %}>
              Сбор данных
            </summary> 
            <ul>
              <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Интервьюирование Заказчика" value="Интервьюирование Заказчика" {% if 'Интервьюирование Заказчика' in names %} checked {% endif %}>
                    Интервьюирование Заказчика
                  </summary>
                </li>
              <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Запрос имеющейся документации СПД регламентов и т. п." value="Запрос имеющейся документации СПД регламентов и т. п." {% if 'Запрос имеющейся документации СПД регламентов и т. п.' in names %} checked {% endif %}>
                    Запрос имеющейся документации СПД регламентов и т. п.
                  </summary>
              </li>
              <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Визуальный осмотр сетевого оборудования" value="Визуальный осмотр сетевого оборудования" {% if 'Визуальный осмотр сетевого оборудования' in names %} checked {% endif %}>
                    Визуальный осмотр сетевого оборудования
                  </summary>
              </li>
              <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сбор данных об условиях эксплуатации" value="Сбор данных об условиях эксплуатации" {% if 'Сбор данных об условиях эксплуатации' in names %} checked {% endif %}>
                    Сбор данных об условиях эксплуатации
                  </summary>
              </li>
              <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сбор данных о сетевом оборудоровании и его назначении (инвентаризация)" value="Сбор данных о сетевом оборудоровании и его назначении (инвентаризация)" {% if 'Сбор данных о сетевом оборудоровании и его назначении (инвентаризация)' in names %} checked {% endif %}>
                  Сбор данных о сетевом оборудоровании и его назначении (инвентаризация)
                </summary>
              </li>
            <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сбор конфигурации сетевого оборудования" value="Сбор конфигурации сетевого оборудования" {% if 'Сбор конфигурации сетевого оборудования' in names %} checked {% endif %}>
                  Сбор конфигурации сетевого оборудования
                </summary>
            </li>
            <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сбор данных об схемах адресации" value="Сбор данных об схемах адресации" {% if 'Сбор данных об схемах адресации' in names %} checked {% endif %}>
                  Сбор данных об схемах адресации
                </summary>
            </li>
            <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сбор данных об сетевых инфраструктурных сервисах" value="Сбор данных об сетевых инфраструктурных сервисах" {% if 'Сбор данных об сетевых инфраструктурных сервисах' in names %} checked {% endif %}>
                  Сбор данных об сетевых инфраструктурных сервисах
                </summary>
            </li>
            <li>
              <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сбор данных об системах управления" value="Сбор данных об системах управления" {% if 'Сбор данных об системах управления' in names %} checked {% endif %}>
                Сбор данных об системах управления
              </summary>
          </li>
          <li>
              <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сбор данных о каналах WAN" value="Сбор данных о каналах WAN" {% if 'Сбор данных о каналах WAN' in names %} checked {% endif %}>
                Сбор данных о каналах WAN
              </summary>
          </li>
          </ul>
          </details>
        </li>

        <li>
          <details style="background-color: rgb(172, 165, 165);">
            <summary style="margin-left:40px; font-weight:normal; cursor: pointer;">
              <input type="checkbox" style="margin-right:5px;" class="list-item-checkbox" name="Анализ собранных данных" value="Анализ собранных данных" {% if 'Анализ собранных данных' in names %} checked {% endif %}>
              Анализ собранных данных
              </summary> 
              <ul>
                <li>
                    <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                      <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Проведение анализа собранных данных" value="Проведение анализа собранных данных" {% if 'Проведение анализа собранных данных' in names %} checked {% endif %}>
                      Проведение анализа собранных данных
                    </summary>
                  </li>
            </ul>
      </details>


      <li>
        <details style="background-color: rgb(172, 165, 165);"> 

          <summary style="margin-left:40px; font-weight:normal; cursor: pointer;">
            <input type="checkbox" style="margin-right:5px;" class="list-item-checkbox" name="Разработка отчета о текущем состоянии:" value="Разработка отчета о текущем состоянии:" {% if 'Разработка отчета о текущем состоянии:' in names %} checked {% endif %}>
            Разработка отчета о текущем состоянии:
            </summary> 
            <ul>
              <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Описание текущего состоянии сети" value="Описание текущего состоянии сети" {% if 'Описание текущего состоянии сети' in names %} checked {% endif %}>
                    Описание текущего состоянии сети
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Описание используемых протоколов/технологий/решений" value="Описание используемых протоколов/технологий/решений" {% if 'Описание используемых протоколов/технологий/решений' in names %} checked {% endif %}>
                    Описание используемых протоколов/технологий/решений
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Сетевые схемы отражающие текущее состояние сети" value="Сетевые схемы отражающие текущее состояние сети" {% if 'Сетевые схемы отражающие текущее состояние сети' in names %} checked {% endif %}>
                    Сетевые схемы отражающие текущее состояние сети
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Схема размещения оборудования" value="Схема размещения оборудования" {% if 'Схема размещения оборудования' in names %} checked {% endif %}>
                    Схема размещения оборудования
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Схемы/таблицы подключения оборудования" value="Схемы/таблицы подключения оборудования" {% if 'Схемы/таблицы подключения оборудования' in names %} checked {% endif %}>
                    Схемы/таблицы подключения оборудования
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Инвентаризация существующего сетевого оборудования" value="Инвентаризация существующего сетевого оборудования" {% if 'Инвентаризация существующего сетевого оборудования' in names %} checked {% endif %}>
                    Инвентаризация существующего сетевого оборудования
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Интентаризация используемых каналов WAN" value="Интентаризация используемых каналов WAN" {% if 'Интентаризация используемых каналов WAN' in names %} checked {% endif %}>
                    Интентаризация используемых каналов WAN
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Описание выявленых проблем и недостататков" value="Описание выявленых проблем и недостататков" {% if 'Описание выявленых проблем и недостататков' in names %} checked {% endif %}>
                    Описание выявленых проблем и недостататков
                  </summary>
                </li>
                <li>
                  <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                    <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Реестр текущих проблем с ранжированием по критичности" value="Реестр текущих проблем с ранжированием по критичности" {% if 'Реестр текущих проблем с ранжированием по критичности' in names %} checked {% endif %}>
                    Реестр текущих проблем с ранжированием по критичности
                  </summary>
                </li>
          </ul>
    </details>

    <li>
      <details style="background-color: rgb(172, 165, 165);">

        <summary style="margin-left:40px; font-weight:normal; cursor: pointer;">
          <input type="checkbox" style="margin-right:5px;" class="list-item-checkbox" name="Разработка рекомендаций по устранению выявленных недостков:" value="Разработка рекомендаций по устранению выявленных недостков:" {% if 'Разработка рекомендаций по устранению выявленных недостков:' in names %} checked {% endif %}>
          Разработка рекомендаций по устранению выявленных недостков:
          </summary> 
          <ul>
            <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по корректировке недостатков в конфигурациях" value="Рекомендации по корректировке недостатков в конфигурациях" {% if 'Рекомендации по корректировке недостатков в конфигурациях' in names %} checked {% endif %}>
                  Рекомендации по корректировке недостатков в конфигурациях
                </summary>
              </li>
              <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по поддержке функционирования сетевого оборудования" value="Рекомендации по поддержке функционирования сетевого оборудования" {% if 'Рекомендации по поддержке функционирования сетевого оборудования' in names %} checked {% endif %}>
                  Рекомендации по поддержке функционирования сетевого оборудования
                </summary>
              </li>
              <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по сетевым протоколам/решениям/технологиям" value="Рекомендации по сетевым протоколам/решениям/технологиям" {% if 'Рекомендации по сетевым протоколам/решениям/технологиям' in names %} checked {% endif %}>
                  Рекомендации по сетевым протоколам/решениям/технологиям
                </summary>
              </li>
              <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по организации инфраструктурных сетевых сервисов" value="Рекомендации по организации инфраструктурных сетевых сервисов" {% if 'Рекомендации по организации инфраструктурных сетевых сервисов' in names %} checked {% endif %}>
                  Рекомендации по организации инфраструктурных сетевых сервисов
                </summary>
              </li>
              <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по организации отказоустойчивости и катастофоустойчивости сетевой инфраструктуры" value="Рекомендации по организации отказоустойчивости и катастофоустойчивости сетевой инфраструктуры" {% if 'Рекомендации по организации отказоустойчивости и катастофоустойчивости сетевой инфраструктуры' in names %} checked {% endif %}>
                  Рекомендации по организации отказоустойчивости и катастофоустойчивости сетевой инфраструктуры
                </summary>
              </li>
              <li>
                <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                  <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по обеспечению сетевой безопасности" value="Рекомендации по обеспечению сетевой безопасности" {% if 'Рекомендации по обеспечению сетевой безопасности' in names %} checked {% endif %}>
                  Рекомендации по обеспечению сетевой безопасности
                </summary>
              </li>
        </ul>
  </details>


  <li>
    <details style="background-color: rgb(172, 165, 165);">

      <summary style="margin-left:40px; font-weight:normal; cursor: pointer;">
        <input type="checkbox" style="margin-right:5px;" class="list-item-checkbox" name="Разработка рекомендаций по развитию сети:" value="Разработка рекомендаций по развитию сети:" {% if 'Разработка рекомендаций по развитию сети:' in names %} checked {% endif %}>
        Разработка рекомендаций по развитию сети:
        </summary> 
        <ul>
          <li>
              <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по развитию логической архитектуры сети" value="Рекомендации по развитию логической архитектуры сети" {% if 'Рекомендации по развитию логической архитектуры сети' in names %} checked {% endif %}>
                Рекомендации по развитию логической архитектуры сети
              </summary>
            </li>
            <li>
              <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по повышению отказоустойчивости и катастрофоустойчивости сети" value="Рекомендации по повышению отказоустойчивости и катастрофоустойчивости сети" {% if 'Рекомендации по повышению отказоустойчивости и катастрофоустойчивости сети' in names %} checked {% endif %}>
                Рекомендации по повышению отказоустойчивости и катастрофоустойчивости сети
              </summary>
            </li>
            <li>
              <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по развитию сетевой инфраструктуры (оборудование/каналы)" value="Рекомендации по развитию сетевой инфраструктуры (оборудование/каналы)" {% if 'Рекомендации по развитию сетевой инфраструктуры (оборудование/каналы)' in names %} checked {% endif %}>
                Рекомендации по развитию сетевой инфраструктуры (оборудование/каналы)
              </summary>
            </li>
            <li>
              <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по развитию инфраструктурных сервисов" value="Рекомендации по развитию инфраструктурных сервисов" {% if 'Рекомендации по развитию инфраструктурных сервисов' in names %} checked {% endif %}>
                Рекомендации по развитию инфраструктурных сервисов
              </summary>
            </li>
            <li>
              <summary style="margin-left:60px; font-weight:normal; cursor: pointer;">
                <input type="checkbox" style="margin-right:20px;" class="list-item-checkbox" name="Рекомендации по повышению сетевой безопасности" value="Рекомендации по повышению сетевой безопасности" {% if 'Рекомендации по повышению сетевой безопасности' in names %} checked {% endif %}>
                Рекомендации по повышению сетевой безопасности
              </summary>
            </li>
      </ul>
</details>




<script>
  function submitForm() {
      var checkedItems = [];
      var checkboxes = document.querySelectorAll('.list-item-checkbox:checked');
      checkboxes.forEach(function(checkbox) {
          checkedItems.push(checkbox.value);
      });
      if (checkedItems.length === 0) {
        alert('Нужно отметить хотя бы один элемент');
        return false;
    } 
      else {
      document.getElementById('checked-items').value = checkedItems;
      document.getElementById('list-form').submit();
    }
}

function validateForm() {
  var inputs = document.getElementsByTagName("input");
  for (var i = 0; i < inputs.length; i++) {
    if (inputs[i].hasAttribute("required") && inputs[i].value === "") {
      alert("Пожалуйста, укажите трудозатраты, дней");
      return false;
    }
  }
  return true;
}
</script>

    <input type="hidden" id="checked-items" name="checked_items">
    <button style="margin-left:50px;" type="submit" class="btn btn-primary">Добавить в Расчет</button>
  </div>
  <a style="margin-left:20px;" class="btn btn-danger" href='delete'>Очистить</a>
  </div>
</form>
  </form>

    {% endblock %} 


    
